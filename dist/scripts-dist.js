let pokemonRepository=function(){let e=[];function t(){return e}function n(t){"object"==typeof t&&["name","detailsUrl"].every(e=>Object.keys(t).includes(e))&&e.push(t)}function o(e){return i(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types,r()}).catch(function(e){console.error(e),r()})}function i(){document.querySelector(".loading-message").classList.remove("hidden")}function r(){document.querySelector(".loading-message").classList.add("hidden")}return{getAll:t,add:n,search:function t(n){return e.filter(e=>e.name.toLowerCase().includes(n.toLowerCase()))},addListItem:function e(t){let n=document.querySelector(".pokemon-list"),i=document.createElement("li");i.classList.add("list-group-item");let r=document.createElement("button");r.innerText=t.name,r.classList.add("btn","btn-primary","pokemon-list_name"),r.setAttribute("type","button"),r.setAttribute("data-bs-toggle","modal"),r.setAttribute("data-bs-target","#pokeModal"),function e(t,n){t.addEventListener("click",function(){(function e(t){o(t).then(function(){var e;let n,o,i,r,a;e=t,n=document.createElement("img"),n.src=e.imageUrl,o=document.querySelector("#pokeModal-title"),o.classList.add("pokemon-list_name"),o.innerText=e.name,i=document.querySelector(".modal-body"),i.innerHTML="",r=document.createElement("p"),a=Math.round(e.height)/10,r.innerText="Height: "+a+"m",i.appendChild(n),i.appendChild(r)})})(n)})}(r,t),i.appendChild(r),n.appendChild(i)},loadList:function e(){return i(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=151").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})}),r()}).catch(function(e){console.error(e),r()})},loadDetails:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(e=>{pokemonRepository.addListItem(e)})});